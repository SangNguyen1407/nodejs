<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
  </head>
  <body>
    <link rel='stylesheet' type='text/css' href='/stylesheet/style.css' />
 
  <div class="menu">
    <div class="menu_tab">
      <a class="active" href="#home">Home</a>
      <a href="#news">News</a>
      <a href="#contact">Contact</a>
      <a href="#about">About</a>
    </div>
    <div class="menu_version">
      <a1>Ver 1.0</a1>
    </div>
  </div>

  <div class="mainpage">
    <div class="title_container">
      <h1><%= title %></h1>
    </div>

    <div class="table_container">
      <table id="table_persons" border="1px solid black">
        <thead>
          <tr>
              <th>Person ID</th>
              <th>LastName</th>
              <th>FirstName</th>
              <th>Address</th>
              <th>City</th>
              <th>Register</th>
          </tr>
        </thead>

        <tbody id = "tbody_table_persons">
          <tr>
            <script>
              var tbl = document.getElementById("table_persons");
              var tblBody = document.getElementById("tbody_table_persons");

              // creating all cells
              const str = "<%=data%>";
              var content_test = str.split(",");
              console.log(content_test);
              for (var key of content_test) {
                // creates a table row
                var tr = document.createElement("tr");
                var i = 0;
                var items = key.split(' ');
                for (var item of items) {
                  if (i == 0){
                    var td = document.createElement('td');
                    var a = document.createElement('a');
                    a.innerHTML = item.trim();
                    a.setAttribute('href', 'https://www.google.com');
                    td.appendChild(a);
                    tr.appendChild(td);
                  }
                  else if (i == 1 || i == 4 || i == 6){
                    var td = document.createElement("td");
                    td.innerHTML = item.trim() + ' ';
                  }
                  else if (i == 2 || i == 5 || i == 7){
                    td.innerHTML += item.trim();
                    tr.appendChild(td);
                  }
                  else {
                    var td = document.createElement("td");
                    td.innerHTML = item.trim();
                    tr.appendChild(td);
                  }
                  i++;
                } // cell
                var td = document.createElement("td");
                td.innerHTML = "<input type='checkbox'>"
                tr.appendChild(td);
                
                // add the row to the end of the table body
                tblBody.appendChild(tr);
              }// end of row

              // put the <tbody> in the <table>
              tbl.appendChild(tblBody);


            </script>
          
          </tr>
        </tbody>
      </table>
    </div>
    <div class="button_container">
      <input id="input_button" type="button" value="Submit" />
      <input id="input_button" type="button" value="Reset"/>
      <input id="input_button" type="button" value="Click Me!"/>
    </div>
    
  </div>

  </body>
</html>

<!--
https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Traversing_an_HTML_table_with_JavaScript_and_DOM_Interfaces
https://learn.microsoft.com/ja-jp/sql/connect/node-js/step-3-proof-of-concept-connecting-to-sql-using-node-js?view=sql-server-ver16

https://qiita.com/ymasaoka/items/516fca97db9c37040619
-->
